function parseCSV(){let e="data.csv",a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE)if(200===a.status){let e=a.responseText,t=e.split("\n"),n="<table>";for(let e=0;e<t.length;e++)if(t[e]){n+="<tr>";let a=t[e].split(",");for(let e=0;e<a.length;e++){let t=a[e].replace(/"/g,"");n+="<td>"+t+"</td>"}n+="</tr>"}n+="</table>",document.getElementById("csvTable").innerHTML=n,loader()}else console.error("Failed to load CSV file.")},a.open("GET",e,!0),a.send()}function searchTable(){let e,a,t,n,r;for(e=document.getElementById("searchInput").value.toUpperCase(),a=document.getElementById("dataTable"),t=a.getElementsByTagName("tr"),r=1;r<t.length;r++)n=t[r].getElementsByTagName("td")[0],n&&(n.textContent.toUpperCase().indexOf(e)>-1?t[r].style.display="":t[r].style.display="none")}function removeColumn(e){let a=document.getElementById("dataTable");for(let t=0;t<a.rows.length;t++)a.rows[t].deleteCell(e)}function drawCircleProgress(e,a){if(e>a)return;const t=document.getElementById("circle-progress"),n=t.getContext("2d"),r=t.width/2,i=t.height/2,l=70,o=-.5*Math.PI,s=o+e/80*(2*Math.PI);let h;if(h=e<=30?interpolateColor("#FFA500","#FFFF00",e/30):e<=60?interpolateColor("#FFFF00","#46e346",(e-30)/30):interpolateColor("#46e346","#32CD32",(e-60)/20),n.clearRect(0,0,t.width,t.height),n.beginPath(),n.arc(r,i,l,0,2*Math.PI),n.lineWidth=10,n.strokeStyle="#ddd",n.stroke(),n.beginPath(),n.arc(r,i,l,o,s),n.lineWidth=10,n.strokeStyle=h,n.stroke(),80==e)return n.beginPath(),n.arc(r,i,l,o,2*Math.PI),n.lineWidth=10,n.strokeStyle="#32CD32",n.stroke(),n.font="1.5rem Ubuntu",n.fillStyle="#000",n.textAlign="center",n.textBaseline="middle",void n.fillText(a,r,i);n.font="1.5rem Ubuntu",n.fillStyle="#000",n.textAlign="center",n.textBaseline="middle",n.fillText(e,r,i),setTimeout(function(){drawCircleProgress(e+1,a)},15)}function interpolateColor(e,a,t){e=e.replace("#",""),a=a.replace("#","");var n=Math.round(parseInt(e.substring(0,2),16)*(1-t)+parseInt(a.substring(0,2),16)*t),r=Math.round(parseInt(e.substring(2,4),16)*(1-t)+parseInt(a.substring(2,4),16)*t),i=Math.round(parseInt(e.substring(4,6),16)*(1-t)+parseInt(a.substring(4,6),16)*t);return n=1==n.toString(16).length?"0"+n.toString(16):n.toString(16),r=1==r.toString(16).length?"0"+r.toString(16):r.toString(16),i=1==i.toString(16).length?"0"+i.toString(16):i.toString(16),"#"+n+r+i}async function getLastCommitDateTime(){const e=await fetch("https://api.github.com/repos/kaash04/LeaderBoard/commits"),a=await e.json();if(a&&a.length>0){const e=new Date(a[0].commit.author.date),t=new Date,n=t-e,r=Math.round(n/36e5);return r}console.error("Error Fetching Time of Last Commit")}function betterTable(){let e=document.getElementById("dataTable");var a=e.getElementsByTagName("tr");a[0].getElementsByTagName("td")[5].innerHTML="Pathways Completed",a[0].getElementsByTagName("td")[6].innerHTML="Code Redemption Status";let t=["Shreyas S. Deshmukh","Vishal Maurya","Prajakta Prakash Jagdale","Vednarayan Sharad Hiralkar","ABHISHEK SACHIN KAPSE","Shreya Bhanudas Kakad","Tejas krushna parkhe","Harshada Bapu Giri","Syeda Saima Fatima","Darshana Kalya Dauda","Prem Vilas Zade","Prathamesh Shankar Pathade","Antara Yogesh Muley","Ajinkya Jitendra Nikumbh","Om Vilas jumde","Sakshi Rohidas Aglave","Pranali Vilas Kathar","Samit Gokul Chavhan","Tilak Ravikiran Varma","Pradeepta Kar","Sulabh Ambule","Harshad Sunil Shirsath","Gangaprasad Nagnath Urekar","Uday Sanjay Wagh","Abdullah Ahmed Siddiqui","Razvi Syed Sulaim","Kartik Labhshetwar","Gunjan Tembhare","Aditya Ravi Dhanure","Shreyash Bendke","Tushar Gakhare","Artika Chouhan","Apurva Dane","Maheshwari Chandankar","Shalini Rajendra Katore","Pooja Bodkhe","Mrunali Khairkar","Sneha Vaidya","Bhagyashri ingle","Minal Sanjay Saindane","Shreyash Sanjay Janbandhu","Shravani Ravindra Pathak","Vedant Gavhale","Akash Shinde","Priyanka Pramod Gangurde","Diksha amol sugandhi","Dimpal Vilas Barhate","Amol Sainath Padamwar","Samruddhi Nikhade","Vishal Rahangdale","Chinmay Gopal Paturkar","Viraj Wakle","Unik Chaudhari","Manish Mahanand Wakade","Anshul Umesh Meshram","Riddhi Vernekar","Riya Gobade","Aryan Shastri","Pratik Wayal","Nikita Ganesh Walake","Kanhopatra Krishna Kendre","Manashri Kukade","Teena Ratnghosh Lohakare","Krushnal Dipak Warke","Bhumika Kashinath Pandhare","Abhilasha Ravindra Aher","Mayur Ganesh Chaudhari","Samiksha Aher","Rugved Chandekar","Vaishnavi Rajendra Kakade","Upasana Avinash Pargaonkar","Sumit Nitesh Makariye","Shivam Singh","Tushar Mukherjee","Ayush Manohar Gajbhiye","Pawan Gajanan Gote","Mohit vitthal Mane","Kaivlya Vinod Khaire","Dnyaneshwar Manohar Jadhav","Vedant Rajesh Zade"];for(let e=1;e<a.length;e++){let n=a[e].getElementsByTagName("td"),r=n[1].textContent.trim(),i=document.createElement("img");n[0].style.textAlign="left","All Good"===r?(i.src="check.png",i.alt="Check"):(i.src="warning.png",i.alt="Warn"),n[1].innerHTML="",i.style.width="1.2rem",n[1].appendChild(i);let l=parseInt(n[5].innerText.charAt(0)),o=document.createElement("img");3===l&&(t.includes(n[0].innerText)?(o.src="medal.png",o.style.width="1.3rem"):(o.src="silver.png",o.style.width="1.7rem"),o.alt="",o.style.marginLeft="0.5rem",n[0].appendChild(o),total++)}drawCircleProgress(0,total)}function rankEntries(){let e=document.getElementById("dataTable"),a=e.getElementsByTagName("tr"),t=a[0],n=[];for(let e=1;e<a.length;e++){let t=a[e].getElementsByTagName("td"),r=parseInt(t[2].innerHTML)+parseInt(t[3].innerHTML)+parseInt(t[4].innerHTML);t[5].innerHTML=r+" / 3",n.push({score:r,row:a[e]})}n.sort((e,a)=>a.score-e.score),e.innerHTML="",e.appendChild(t);for(let a=0;a<n.length;a++)e.appendChild(n[a].row)}function loader(){const e=document.getElementById("log");getLastCommitDateTime().then(a=>e.innerText="Last Updated: "+a+" hours ago").catch(e=>console.error("Error:",e.message));const a=document.getElementsByTagName("tr")[0];a.childNodes.forEach(e=>{e.style.color="#fff",e.style.paddingTop="1rem",e.style.paddingBottom="1rem"}),a.style.backgroundColor="#4285F4",document.getElementsByTagName("table")[0].setAttribute("id","dataTable"),removeColumn(1),removeColumn(1),rankEntries(),betterTable(),window.innerWidth<768&&(removeColumn(2),removeColumn(2),removeColumn(2),removeColumn(3),removeColumn(1))}let total=0;document.getElementById("searchInput").addEventListener("keyup",searchTable);